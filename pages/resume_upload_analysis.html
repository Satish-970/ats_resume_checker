<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Resume Upload & Analysis - ATS Resume Checker</title>
    <link rel="stylesheet" href="../css/main.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<script type="module" src="https://static.rocket.new/rocket-web.js?_cfg=https%3A%2F%2Fatsresume8515back.builtwithrocket.new&_be=https%3A%2F%2Fapplication.rocket.new&_v=0.1.6"></script>
</head>
<body class="bg-background min-h-screen font-inter">
    <!-- Header Navigation -->
    <header class="bg-surface shadow-card sticky top-0 z-50">
        <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <!-- Logo -->
                <div class="flex items-center">
                    <div class="flex-shrink-0">
                        <svg class="h-8 w-8 text-primary-600" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <rect x="4" y="6" width="24" height="20" rx="2" stroke="currentColor" stroke-width="2" fill="none"/>
                            <path d="M8 12h16M8 16h12M8 20h8" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            <circle cx="24" cy="8" r="3" fill="currentColor"/>
                        </svg>
                    </div>
                    <div class="ml-3">
                        <h1 class="text-xl font-semibold text-text-primary">ATS Resume Checker</h1>
                    </div>
                </div>

                <!-- Navigation Links -->
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-4">
                        <a href="resume_upload_analysis.html" class="bg-primary-50 text-primary-700 px-3 py-2 rounded-md text-sm font-medium">Upload</a>
                        <a href="ats_score_results_dashboard.html" class="text-secondary-500 hover:text-text-primary px-3 py-2 rounded-md text-sm font-medium transition-colors">Results</a>
                        <a href="keyword_analysis_comparison.html" class="text-secondary-500 hover:text-text-primary px-3 py-2 rounded-md text-sm font-medium transition-colors">Keywords</a>
                        <a href="resume_optimization_recommendations.html" class="text-secondary-500 hover:text-text-primary px-3 py-2 rounded-md text-sm font-medium transition-colors">Optimize</a>
                        <a href="analysis_history_reports.html" class="text-secondary-500 hover:text-text-primary px-3 py-2 rounded-md text-sm font-medium transition-colors">History</a>
                    </div>
                </div>

                <!-- Mobile menu button -->
                <div class="md:hidden">
                    <button type="button" class="text-secondary-500 hover:text-text-primary p-2" onclick="toggleMobileMenu()">
                        <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
                        </svg>
                    </button>
                </div>
            </div>

            <!-- Mobile menu -->
            <div id="mobile-menu" class="md:hidden hidden">
                <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3 bg-surface border-t border-secondary-200">
                    <a href="resume_upload_analysis.html" class="bg-primary-50 text-primary-700 block px-3 py-2 rounded-md text-base font-medium">Upload</a>
                    <a href="ats_score_results_dashboard.html" class="text-secondary-500 hover:text-text-primary block px-3 py-2 rounded-md text-base font-medium">Results</a>
                    <a href="keyword_analysis_comparison.html" class="text-secondary-500 hover:text-text-primary block px-3 py-2 rounded-md text-base font-medium">Keywords</a>
                    <a href="resume_optimization_recommendations.html" class="text-secondary-500 hover:text-text-primary block px-3 py-2 rounded-md text-base font-medium">Optimize</a>
                    <a href="analysis_history_reports.html" class="text-secondary-500 hover:text-text-primary block px-3 py-2 rounded-md text-base font-medium">History</a>
                </div>
            </div>
        </nav>
    </header>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <!-- Hero Section -->
        <section class="text-center mb-12">
            <h1 class="text-3xl md:text-4xl font-semibold text-text-primary mb-4">
                Optimize Your Resume for ATS Success
            </h1>
            <p class="text-lg text-secondary-500 max-w-2xl mx-auto">
                Upload your resume and job description to get instant ATS compatibility analysis, 
                keyword matching insights, and actionable optimization recommendations.
            </p>
        </section>

        <!-- Main Content Grid -->
        <div class="grid lg:grid-cols-3 gap-8">
            <!-- Upload Section -->
            <div class="lg:col-span-2">
                <!-- Resume Upload Card -->
                <div class="bg-surface rounded-lg shadow-card p-6 mb-8">
                    <div class="flex items-center mb-6">
                        <svg class="h-6 w-6 text-primary-600 mr-3" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"/>
                        </svg>
                        <h2 class="text-xl font-semibold text-text-primary">Upload Your Resume</h2>
                    </div>

                    <!-- Drag and Drop Zone -->
                    <div id="upload-zone" class="border-2 border-dashed border-secondary-200 rounded-lg p-8 text-center hover:border-primary-300 transition-colors cursor-pointer">
                        <div id="upload-content">
                            <svg class="mx-auto h-12 w-12 text-secondary-400 mb-4" stroke="currentColor" fill="none" viewBox="0 0 48 48">
                                <path d="M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                            <h3 class="text-lg font-medium text-text-primary mb-2">Drop your resume here</h3>
                            <p class="text-secondary-500 mb-4">or click to browse files</p>
                            <p class="text-sm text-secondary-400">Supports PDF and DOCX formats (max 10MB)</p>
                        </div>
                        
                        <!-- Progress Indicator (Hidden by default) -->
                        <div id="upload-progress" class="hidden">
                            <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto mb-4"></div>
                            <p class="text-primary-600 font-medium">Processing your resume...</p>
                            <div class="w-full bg-secondary-200 rounded-full h-2 mt-4">
                                <div id="progress-bar" class="bg-primary-600 h-2 rounded-full transition-all duration-300" style="width: 0%"></div>
                            </div>
                        </div>

                        <!-- Success State (Hidden by default) -->
                        <div id="upload-success" class="hidden">
                            <svg class="mx-auto h-12 w-12 text-success mb-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                            </svg>
                            <h3 class="text-lg font-medium text-success mb-2">Resume uploaded successfully!</h3>
                            <p id="file-name" class="text-secondary-500 mb-4"></p>
                            <button onclick="clearUpload()" class="text-primary-600 hover:text-primary-700 text-sm font-medium">Upload different file</button>
                        </div>
                    </div>

                    <input type="file" id="resume-file" class="hidden" accept=".pdf,.docx" onchange="handleFileUpload(event)" />
                </div>

                <!-- Job Description Input -->
                <div class="bg-surface rounded-lg shadow-card p-6">
                    <div class="flex items-center mb-6">
                        <svg class="h-6 w-6 text-primary-600 mr-3" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
                        </svg>
                        <h2 class="text-xl font-semibold text-text-primary">Job Description</h2>
                    </div>

                    <!-- Tab Navigation -->
                    <div class="flex space-x-1 mb-4">
                        <button id="text-tab" onclick="switchTab('text')" class="px-4 py-2 text-sm font-medium rounded-md bg-primary-50 text-primary-700">
                            Paste Text
                        </button>
                        <button id="url-tab" onclick="switchTab('url')" class="px-4 py-2 text-sm font-medium rounded-md text-secondary-500 hover:text-text-primary">
                            From URL
                        </button>
                    </div>

                    <!-- Text Input Tab -->
                    <div id="text-input" class="space-y-4">
                        <textarea id="job-description" rows="8" class="w-full px-4 py-3 border border-secondary-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none" placeholder="Paste the job description here to analyze keyword matching and ATS compatibility..."></textarea>
                        <p class="text-sm text-secondary-400">
                            <span class="font-medium">Tip:</span> Include the complete job posting for best results
                        </p>
                    </div>

                    <!-- URL Input Tab (Hidden by default) -->
                    <div id="url-input" class="hidden space-y-4">
                        <div class="flex space-x-2">
                            <input type="url" id="job-url" class="flex-1 px-4 py-3 border border-secondary-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent" placeholder="https://example.com/job-posting" />
                            <button onclick="fetchJobDescription()" class="px-6 py-3 bg-secondary-100 text-secondary-600 rounded-lg hover:bg-secondary-200 transition-colors">
                                Fetch
                            </button>
                        </div>
                        <p class="text-sm text-secondary-400">
                            <span class="font-medium">Note:</span> We'll extract the job description from the provided URL
                        </p>
                    </div>

                    <!-- Action Buttons -->
                    <div class="flex flex-col sm:flex-row gap-3 mt-6">
                        <button id="analyze-btn" onclick="startAnalysis()" disabled class="flex-1 bg-primary-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-primary-700 disabled:bg-secondary-200 disabled:text-secondary-400 disabled:cursor-not-allowed transition-colors">
                            <svg class="inline h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/>
                            </svg>
                            Analyze Resume
                        </button>
                        <button onclick="clearAll()" class="px-6 py-3 border border-secondary-200 text-secondary-600 rounded-lg font-medium hover:bg-secondary-50 transition-colors">
                            Clear All
                        </button>
                    </div>
                </div>
            </div>

            <!-- Sidebar -->
            <div class="lg:col-span-1">
                <!-- Quick Tips -->
                <div class="bg-surface rounded-lg shadow-card p-6 mb-6">
                    <h3 class="text-lg font-semibold text-text-primary mb-4 flex items-center">
                        <svg class="h-5 w-5 text-primary-600 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                        </svg>
                        ATS Quick Tips
                    </h3>
                    <div class="space-y-4">
                        <div class="flex items-start">
                            <div class="flex-shrink-0 w-2 h-2 bg-primary-600 rounded-full mt-2 mr-3"></div>
                            <p class="text-sm text-secondary-600">Use standard section headings like "Experience" and "Education"</p>
                        </div>
                        <div class="flex items-start">
                            <div class="flex-shrink-0 w-2 h-2 bg-primary-600 rounded-full mt-2 mr-3"></div>
                            <p class="text-sm text-secondary-600">Include relevant keywords from the job description</p>
                        </div>
                        <div class="flex items-start">
                            <div class="flex-shrink-0 w-2 h-2 bg-primary-600 rounded-full mt-2 mr-3"></div>
                            <p class="text-sm text-secondary-600">Avoid complex formatting, tables, and graphics</p>
                        </div>
                        <div class="flex items-start">
                            <div class="flex-shrink-0 w-2 h-2 bg-primary-600 rounded-full mt-2 mr-3"></div>
                            <p class="text-sm text-secondary-600">Use common fonts like Arial or Times New Roman</p>
                        </div>
                    </div>
                </div>

                <!-- Recent Analyses -->
                <div class="bg-surface rounded-lg shadow-card p-6">
                    <h3 class="text-lg font-semibold text-text-primary mb-4 flex items-center">
                        <svg class="h-5 w-5 text-primary-600 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
                        </svg>
                        Recent Analyses
                    </h3>
                    <div class="space-y-3">
                        <div class="p-3 bg-secondary-50 rounded-lg">
                            <div class="flex items-center justify-between mb-1">
                                <span class="text-sm font-medium text-text-primary">Software Engineer</span>
                                <span class="text-xs text-success font-medium">85%</span>
                            </div>
                            <p class="text-xs text-secondary-500">Analyzed 2 hours ago</p>
                        </div>
                        <div class="p-3 bg-secondary-50 rounded-lg">
                            <div class="flex items-center justify-between mb-1">
                                <span class="text-sm font-medium text-text-primary">Product Manager</span>
                                <span class="text-xs text-warning font-medium">72%</span>
                            </div>
                            <p class="text-xs text-secondary-500">Analyzed yesterday</p>
                        </div>
                        <div class="p-3 bg-secondary-50 rounded-lg">
                            <div class="flex items-center justify-between mb-1">
                                <span class="text-sm font-medium text-text-primary">Data Analyst</span>
                                <span class="text-xs text-error font-medium">58%</span>
                            </div>
                            <p class="text-xs text-secondary-500">Analyzed 3 days ago</p>
                        </div>
                    </div>
                    <a href="analysis_history_reports.html" class="block text-center text-primary-600 hover:text-primary-700 text-sm font-medium mt-4 transition-colors">
                        View All Analyses
                    </a>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-surface border-t border-secondary-200 mt-16">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <div class="text-center text-secondary-500 text-sm">
                <p>&copy; 2025 ATS Resume Checker. All rights reserved.</p>
                <p class="mt-2">Helping job seekers optimize their resumes for ATS success.</p>
            </div>
        </div>
    </footer>

    <script>
        let uploadedFile = null;
        let currentTab = 'text';

        // Mobile menu toggle
        function toggleMobileMenu() {
            const menu = document.getElementById('mobile-menu');
            menu.classList.toggle('hidden');
        }

        // Tab switching
        function switchTab(tab) {
            currentTab = tab;
            const textTab = document.getElementById('text-tab');
            const urlTab = document.getElementById('url-tab');
            const textInput = document.getElementById('text-input');
            const urlInput = document.getElementById('url-input');

            if (tab === 'text') {
                textTab.className = 'px-4 py-2 text-sm font-medium rounded-md bg-primary-50 text-primary-700';
                urlTab.className = 'px-4 py-2 text-sm font-medium rounded-md text-secondary-500 hover:text-text-primary';
                textInput.classList.remove('hidden');
                urlInput.classList.add('hidden');
            } else {
                urlTab.className = 'px-4 py-2 text-sm font-medium rounded-md bg-primary-50 text-primary-700';
                textTab.className = 'px-4 py-2 text-sm font-medium rounded-md text-secondary-500 hover:text-text-primary';
                urlInput.classList.remove('hidden');
                textInput.classList.add('hidden');
            }
        }

        // Drag and drop functionality
        const uploadZone = document.getElementById('upload-zone');
        const fileInput = document.getElementById('resume-file');

        uploadZone.addEventListener('click', () => {
            if (!uploadedFile) {
                fileInput.click();
            }
        });

        uploadZone.addEventListener('dragover', (e) => {
            e.preventDefault();
            uploadZone.classList.add('border-primary-300', 'bg-primary-50');
        });

        uploadZone.addEventListener('dragleave', (e) => {
            e.preventDefault();
            uploadZone.classList.remove('border-primary-300', 'bg-primary-50');
        });

        uploadZone.addEventListener('drop', (e) => {
            e.preventDefault();
            uploadZone.classList.remove('border-primary-300', 'bg-primary-50');
            const files = e.dataTransfer.files;
            if (files.length > 0) {
                handleFile(files[0]);
            }
        });

        // File upload handling
        function handleFileUpload(event) {
            const file = event.target.files[0];
            if (file) {
                handleFile(file);
            }
        }

        function handleFile(file) {
            // Validate file type
            const allowedTypes = ['application/pdf', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'];
            if (!allowedTypes.includes(file.type)) {
                alert('Please upload a PDF or DOCX file.');
                return;
            }

            // Validate file size (10MB limit)
            if (file.size > 10 * 1024 * 1024) {
                alert('File size must be less than 10MB.');
                return;
            }

            uploadedFile = file;
            showUploadProgress();
            
            // Simulate file processing
            let progress = 0;
            const progressBar = document.getElementById('progress-bar');
            const interval = setInterval(() => {
                progress += Math.random() * 20;
                if (progress >= 100) {
                    progress = 100;
                    clearInterval(interval);
                    setTimeout(showUploadSuccess, 500);
                }
                progressBar.style.width = progress + '%';
            }, 200);
        }

        function showUploadProgress() {
            document.getElementById('upload-content').classList.add('hidden');
            document.getElementById('upload-progress').classList.remove('hidden');
            document.getElementById('upload-success').classList.add('hidden');
        }

        function showUploadSuccess() {
            document.getElementById('upload-content').classList.add('hidden');
            document.getElementById('upload-progress').classList.add('hidden');
            document.getElementById('upload-success').classList.remove('hidden');
            document.getElementById('file-name').textContent = uploadedFile.name;
            updateAnalyzeButton();
        }

        function clearUpload() {
            uploadedFile = null;
            fileInput.value = '';
            document.getElementById('upload-content').classList.remove('hidden');
            document.getElementById('upload-progress').classList.add('hidden');
            document.getElementById('upload-success').classList.add('hidden');
            updateAnalyzeButton();
        }

        function updateAnalyzeButton() {
            const analyzeBtn = document.getElementById('analyze-btn');
            const hasFile = uploadedFile !== null;
            const hasJobDescription = document.getElementById('job-description').value.trim() !== '' || 
                                    document.getElementById('job-url').value.trim() !== '';
            
            if (hasFile) {
                analyzeBtn.disabled = false;
                analyzeBtn.textContent = hasJobDescription ? 'Analyze Resume & Match Keywords' : 'Analyze Resume Quality';
            } else {
                analyzeBtn.disabled = true;
                analyzeBtn.innerHTML = `
                    <svg class="inline h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
                    </svg>
                    Analyze Resume
                `;
            }
        }

        // Job description input monitoring
        document.getElementById('job-description').addEventListener('input', updateAnalyzeButton);
        document.getElementById('job-url').addEventListener('input', updateAnalyzeButton);

        function fetchJobDescription() {
            const url = document.getElementById('job-url').value.trim();
            if (!url) {
                alert('Please enter a valid URL.');
                return;
            }
            
            // Simulate URL fetching
            alert('URL fetching feature will be implemented in the full version.');
        }

        function startAnalysis() {
            if (!uploadedFile) {
                alert('Please upload a resume first.');
                return;
            }
            
            // Simulate analysis start and redirect to results
            const analyzeBtn = document.getElementById('analyze-btn');
            analyzeBtn.innerHTML = `
                <svg class="animate-spin inline h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24">
                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                    <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                </svg>
                Analyzing...
            `;
            analyzeBtn.disabled = true;
            
            setTimeout(() => {
                window.location.href = 'ats_score_results_dashboard.html';
            }, 2000);
        }

        function clearAll() {
            clearUpload();
            document.getElementById('job-description').value = '';
            document.getElementById('job-url').value = '';
            updateAnalyzeButton();
        }
    </script>
<script id="dhws-dataInjector" src="../public/dhws-data-injector.js"></script>
</body>
</html>